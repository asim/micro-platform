<div style="margin: auto;">
  <mat-card
    style="margin-bottom: 0; padding-bottom: 0; margin-top: 0em; padding-top: 0em;"
    class="mat-card-flat"
  >
    <mat-card-title>
      <a routerLink="/services">Services</a> &gt; go.micro.srv.<span
        *ngIf="step > 0"
        >{{ serviceName }}</span
      >

      <mat-form-field
        *ngIf="step == 0"
        style="padding-top: 0em; margin-top: 0em; width: 9em;"
      >
        <input
          matInputAutofocus
          matInput
          [disabled]="step > 0"
          [(ngModel)]="serviceName"
          (ngModelChange)="regen()"
          (keypress)="keyPress($event)"
        />
      </mat-form-field>
    </mat-card-title>
  </mat-card>
  <mat-card style="padding-top: 0; margin-top: 0;" class="mat-card-flat">
    <!-- Next level cruft alert. Input box adds margin which is not present on steps 1+ -->
    <br *ngIf="step != 0" />
    <mat-card-title>
      New service
    </mat-card-title>

    <div *ngIf="step == 3" style="vertical-align: center;">
      <p>
        <span style="font-weight: 700">Login in terminal:</span>
        <code
          >micro login $token
          <button mat-stroked-button>
            <mat-icon
              class="inline-icon"
              style="cursor: pointer"
              ngxClipboard
              cbContent="micro login {{ token }}"
              >file_copy</mat-icon
            >
          </button></code
        >
      </p>

      <p>
        <a routerLink="/settings/tokens">After logging in</a>, start your
        service with the following command:
      </p>
    </div>
    <div *ngIf="step == 0">
      <p>
        Create your service with the following commands:
      </p>
    </div>
    <pre
      class="code-wrapper"
      *ngIf="step == 0"
      style="margin-top: 0.5em;"
    ><code [highlight]="code" [languages]="languages" [lineNumbers]="false"></code><mat-icon ngxClipboard cbContent="{{code}}" class="copy-icon">file_copy</mat-icon></pre>
    <pre
      class="code-wrapper"
      *ngIf="step == 3"
      style="margin-top: 0.5em;"
    ><code [highlight]="runCode" [languages]="languages" [lineNumbers]="false"></code><mat-icon ngxClipboard cbContent="{{runCode}}" class="copy-icon">file_copy</mat-icon></pre>
    <br />
    {{ this.stepLabels[this.step] }}<br /><br />
    <mat-progress-bar
      mode="determinate"
      value="{{ progressPercentage }}"
    ></mat-progress-bar>
  </mat-card>
</div>
